% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/density_plot_functions.R
\name{calculate_bg_fg_stats}
\alias{calculate_bg_fg_stats}
\title{Calculate Background and Foreground Quality Control Statistics}
\usage{
calculate_bg_fg_stats(
  datCollate,
  apply_log2 = TRUE,
  min_spot_count = 20,
  overlap_percentile = 95
)
}
\arguments{
\item{datCollate}{A list containing data collection objects}

\item{apply_log2}{Logical indicating whether to apply log2 transformation. Default is TRUE}

\item{min_spot_count}{Integer minimum number of spots required per sample. Default is 20}

\item{overlap_percentile}{Numeric, percentile to use for overlap calculation (default 95)}
}
\value{
A list with two components:
\itemize{
\item \code{BGFG_stats}: Data.frame with QC statistics per sample
\item \code{plot_data}: Data.frame in long format ready for density plotting
}

A list with two components:
\itemize{
\item \code{BGFG_stats}: Data.frame with QC statistics including:
- Legacy metrics: BG_overlap, CV, SD, etc.
- New v2.0.0 metrics: SBR_log2, SBR_fold, fg_overlap_pct, bg_overlap_pct,
separation_gap, separation_MAD, overall_BGFG_qc
\item \code{plot_data}: Data.frame in long format ready for density plotting
}
}
\description{
Computes comprehensive quality control statistics for background (BG) and
foreground (FG) signal intensities from raw microarray data. Calculates
distribution metrics, overlap thresholds, and identifies outlier artifacts.
}
\note{
Uses "pass"/"flag" convention for QC status

\strong{Version History:}
\itemize{
\item v2.0.0 (2025-01-08): Enhanced by @DrGarnett
\itemize{
\item Added Signal-to-Background Ratio (SBR) metrics (log2 and fold)
\item Added actual distribution overlap percentages (fg_overlap_pct, bg_overlap_pct)
\item Added separation metrics (gap and MAD-based effect size)
\item Added comprehensive QC flags and overall_BGFG_qc decision
\item Maintained full backward compatibility with legacy metrics
}
}
}
\author{
Shaun Garnett
}
