% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pseudoarray_functions.R
\name{get_slide_images_function}
\alias{get_slide_images_function}
\title{Get slide images from TIFF files}
\usage{
get_slide_images_function(
  datCollate,
  tif_sample_list,
  samples,
  wavelength_index,
  wavelength_title,
  slide_image_number
)
}
\arguments{
\item{datCollate}{List containing manifest data with columns: GPR, Sample}

\item{tif_sample_list}{Named list of TIFF file paths, where names are sample IDs}

\item{samples}{Character vector of sample names to process}

\item{wavelength_index}{Integer, which wavelength/channel to extract from TIFF (typically 1 or 2)}

\item{wavelength_title}{Character, descriptive title for the wavelength (e.g., "532nm" or "635nm")}

\item{slide_image_number}{Integer, maximum number of slide images to display}
}
\value{
List containing:
\itemize{
\item image_list: Named list of magick-image objects, one per sample
\item text: Character string with warning if samples were randomly selected
\item wavelength_title: The wavelength title passed in
\item image_file_path: Path to the last image file processed
}
}
\description{
Reads TIFF image files for specified samples and extracts the requested
wavelength channel. If too many samples are provided, randomly samples
down to the maximum number specified.
}
\details{
This function processes TIFF slide images for protein microarray analysis.
It handles multi-page TIFF files where different wavelengths are stored
as separate pages/layers.

The function filters the manifest to get unique GPR files (one sample per slide),
then reads the corresponding TIFF images. If more samples are provided than
the maximum specified, it randomly samples down and returns a warning message.

Requires the magick package for image reading.
}
\note{
Original location: server.R (get_slide_images_function_old)

Part of pseudoarray visualization suite
}
\examples{
\dontrun{
# Prepare data
datCollate <- list(
  data = list(
    manifest = data.frame(
      GPR = c("slide1.gpr", "slide1.gpr", "slide2.gpr"),
      Sample = c("S1", "S2", "S3"),
      stringsAsFactors = FALSE
    )
  )
)

tif_list <- list(
  "S1" = "path/to/slide1.tif",
  "S2" = "path/to/slide1.tif",
  "S3" = "path/to/slide2.tif"
)

# Get images for 532nm wavelength
result <- get_slide_images_function(
  datCollate = datCollate,
  tif_sample_list = tif_list,
  samples = c("S1", "S2", "S3"),
  wavelength_index = 1,
  wavelength_title = "532nm",
  slide_image_number = 10
)

# Access results
images <- result$image_list
warning_text <- result$text
}

}
